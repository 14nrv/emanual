---
layout: archive
lang: kr
ref: rplustask3
read_time: true
share: false
author_profile: false
permalink: /docs/kr/software/rplustask3/
sidebar:
  title: R+ Task 3.0
  nav: "rplustask3"
---

# [개요](#개요)

## [호환 제품 목록](#호환-제품-목록)



# [시작하기](#시작하기)

## [소프트웨어 설치](#소프트웨어-설치)

## [메뉴 설명](#메뉴-설명)



# [태스크 프로그래밍](#태스크-프로그래밍)

## [새로 만들기](#새로-만들기)

## [예제 프로젝트 열기](#예제-프로젝트-열기)

## [명령어 사용하기](#명령어-사용하기)

### [명령어 삽입/변경](#명령어-삽입변경)


### [시작과 끝](#시작과-끝)

#### [프로그램 시작](#프로그램-시작)

#### [프로그램 끝](#프로그램-끝)

#### [구간 시작/구간 끝](#구간-시작구간-끝)

#### [주석](#주석)


### [실행문](#실행문)

#### [계산](#계산)

#### [로드](#로드)

#### [다중 수식](#다중-수식)

#### [레이블/점프](#레이블점프)


### [조건문](#조건문)

조건절의 결과가 참이냐 거짓이냐에 따라 프로그램의 흐름을 분기하는 명령어입니다. 자세한 설명은 하위 항목을 참고하세요.

#### [조건절이란?](#조건절이란)

- 조건절이란 연산의 결과가 반드시 참 또는 거짓을 내는 수식입니다.
- 괄호( ) 안에서 사용할 수 있는 비교 연산자는 다음과 같습니다.

| 비교연산자 |            설명             |
|:----------:|:---------------------------:|
|     ==     |     좌변과 우변이 같다      |
|     !=     |    좌변과 우변이 다르다     |
|     \>     |    좌변이 우변보다 크다     |
|    \>=     | 좌변이 우변보다 크거나 같다 |
|     <      |    좌변이 우변보다 작다     |
|     <=     | 좌변이 우변보다 작거나 같다 |

- 여러 개의 조건을 만족해야 하는 경우 아래 그림과 같이 복합 조건절을 사용할 수 있습니다.

  ![](/assets/images/sw/rplus2/task/r+task2_44.gif)

- 복합 조건절 사용시 사용할 수 있는 논리 연산자는 다음과 같습니다.

| 논리연산자 |                            설명                         |
|:----------:|:------------------------------------------------------:|
|    then    | 아무 조건절도 연결하지 않습니다. 하나의 조건절만 사용합니다 |
|     &&     |                 두 조건절을 AND연산 합니다               |
|    \|\|    |                  두 조건절을 OR연산 합니다               |

    ![](/assets/images/sw/rplus2/task/r+task2_39_1.gif)

#### [만약](#만약)

#### [아니면 만약](#아니면-만약)

#### [아니면](#아니면)


### [반복문](#반복문)

#### [무조건 반복](#무조건-반복)

#### [조건 반복](#조건-반복)

#### [횟수 반복](#횟수-반복)

#### [조건 대기](#조건-대기)

#### [반복 끝내기](#반복-끝내기)


### [함수(서브루틴)](#함수서브루틴)

#### [함수/호출](#함수호출)

#### [복귀](#복귀)

#### [콜백](#콜백)



## [파라미터 사용하기](#파라미터-사용하기)

### [제어기 장치](#제어기-장치)

#### [주변장치(감속모터)](#주변장치감속모터)

- 제어기에 연결된 감속모터를 제어하기 위해 사용합니다.
- 제어기마다 연결할 수 있는 장치가 다릅니다. 제어기 기능 비교를 참고하세요. 제어기 기능 비교
- 방향 : CW(Clock Wise : 시계 방향), CCW(Counter Clock Wise : 반시계 방향)
- 출력 : 값 범위는 0~1023이며, 0일 때 정지, 1023일 때 100% 출력으로 설정됩니다.

  ![](/assets/images/sw/rplus2/task/r+task2_69.gif)

- 아래는 감속 모터를 제어하는 예제입니다.

  ![](/assets/images/sw/rplus2/task/r+task2_70.gif)

- 아래는 감속 모터를 사용하여 로봇을 전진 시키는 예제입니다.

  ![](/assets/images/sw/rplus2/task/r+task2_71.gif)

#### [주변장치(서보모터: 동작모드/속도/위치)](#주변장치서보모터-동작모드속도위치)

- 제어기에 연결된 서보모터를 제어하기 위해 사용합니다.
- 제어기마다 연결할 수 있는 장치가 다릅니다. 제어기 기능 비교를 참고하세요. 제어기 기능 비교
- 서보모터 동작모드 : 값이 True인 경우, 서보모터 위치를 설정하여 원하는 각도로 위치할 수 있습니다. 값이 False인 경우, 서보모터 속도를 설정하여 원하는 속도로 회전 시킬 수 있습니다.
- 서보모터 속도 : 서보모터의 이동속도를 설정합니다.

  ![](/assets/images/sw/rplus2/task/r+task2_72.gif)

- 서보모터 위치 : 서보모터의 위치를 설정합니다.

  ![](/assets/images/sw/rplus2/task/r+task2_73.gif)

- 아래는 서보모터의 위치를 제어하는 예제입니다.

  ![](/assets/images/sw/rplus2/task/r+task2_74.gif)

- 아래는 서보모터를 회전시켜 바퀴형태로 제어하는 예제입니다.

  ![](/assets/images/sw/rplus2/task/r+task2_75.gif)

#### [주변장치(LED 모듈)](#주변장치led-모듈)

- 제어기에 연결된 LED 모듈을 제어하기 위해 사용합니다.
- 제어기마다 연결할 수 있는 장치가 다릅니다. 제어기 기능 비교를 참고하세요. [제어기 기능 비교]
- LED 모듈의 오른쪽 LED와 왼쪽 LED를 켜거나 끌 수 있습니다.

  ![](/assets/images/sw/rplus2/task/r+task2_76.gif)

- 아래는 LED 모듈을 제어하는 예제입니다.

  ![](/assets/images/sw/rplus2/task/r+task2_77.gif)

#### [주변장치(여러가지 센서)](#주변장치여러가지-센서)

제어기에 연결된 여러 센서를 제어하기 위해 사용합니다. 제어기마다 연결할 수 있는 센서가 다릅니다. 제어기 기능 비교를 참고하세요. [제어기 기능 비교]

- 접촉센서 : 접촉센서의 접촉 여부를 읽어오기 위해 사용합니다. (True일 때 접촉됨, False일 때 접촉되지 않음)
  - [접촉 센서 부품 정보]
  - 아래는 접촉 센서를 사용한 예제입니다.

    ![](/assets/images/sw/rplus2/task/r+task2_78.gif)

- 적외선 센서 : 물체와의 거리를 읽어오기 위해 사용합니다. (값 범위 0 ~ 1023, 값이 0에 가까울수록 물체와의 거리가 멉니다.)
  - [적외선 센서 부품 정보]
  - 아래는 적외선 센서를 사용한 예제입니다.

    ![](/assets/images/sw/rplus2/task/r+task2_79.gif)

- 절대 거리 센서 : 물체와의 거리를 읽어오기 위해 사용합니다.  (값 범위 0~ 1023, 값이 0에 가까울수록 물체와의 거리가 멉니다.)
  - [절대 거리 센서 부품 정보]
  - 아래는 절대 거리 센서를 사용한 예제입니다.

    ![](/assets/images/sw/rplus2/task/r+task2_80.gif)

- 컬러 센서 : 물체의 색상을 읽어오기 위해 사용합니다.
  - 컬러 센서가 감지하는 색은 아래와 같습니다.

    ![](/assets/images/sw/rplus2/task/r+task2_81.gif)

  - [컬러 센서 부품 정보]
  - 아래는 컬러 센서를 사용한 예제입니다.

    ![](/assets/images/sw/rplus2/task/r+task2_82.gif)

- 자석 센서 : 자석이나 물체의 자력을 읽어오기 위해 사용합니다. (True일 때 자석이 감지됨, False일 때 자석이 감지되지 않음)
  - [자석 센서 부품 정보]
  - 아래는 자석 센서를 사용한 예제입니다.

    ![](/assets/images/sw/rplus2/task/r+task2_83.gif)

- 온도 센서 : 물체의 온도를 읽어오기 위해 사용합니다. (온도 범위 : -20~120&deg;C)
  - [온도 센서 부품 정보]
  - 아래는 온도 센서를 사용한 예제입니다.

    ![](/assets/images/sw/rplus2/task/r+task2_86.gif)

- 동작감지 센서 : 물체의 움직임을 감지하기 위해 사용합니다.
  - [동작감지 센서 부품 정보]
  - 아래는 동작감지 센서를 사용한 예제입니다.

    ![](/assets/images/sw/rplus2/task/r+task2_84.gif)

- 온습도 센서 : 물체의 온도와 습도를 읽어오기 위해 사용합니다. (온도 범위 : -20~120&deg;C, 습도 범위 : 0~100%)
  - 아래는 온습도 센서를 사용한 예제입니다.

    ![](/assets/images/sw/rplus2/task/r+task2_87.gif)

- 조도 센서 : 장소의 밝기를 감지하기 위해 사용합니다. (값 범위 0~ 1023, 값이 0에 가까울수록 주위가 어둡습니다.)
  - 아래는 조도 센서를 사용한 예제입니다.

    ![](/assets/images/sw/rplus2/task/r+task2_88.gif)

- 사용자 장치 : 사용자가 제작한 센서의 값을 읽어오거나 쓸 때 사용합니다.
  - [사용자 센서 제작]
  - 아래는 사용자 장치를 사용한 예제입니다.

    ![](/assets/images/sw/rplus2/task/r+task2_89.gif)

#### [모션제어(모션 호출 번호/모션 상태/관절 오프셋/관절 LED 자동 켜기)](#모션제어모션-호출-번호모션-상태관절-오프셋관절-led-자동-켜기)

- R+ Motion을 통해 제어기에 다운로드된 모션을 실행하기 위한 파라미터입니다.
- 특정 제어기에서만 사용할 수 있습니다.  
  (지원 제어기 : [CM-200], [CM-5], [CM-510], [CM-530], [CM-700], [OpenCM])

- 모션 호출 번호 : 모션의 호출 번호를 쓰면 해당 모션이 실행됩니다. 모션이 실행되는 도중이라면 현재 실행 중인 모션 번호를 읽어올 수 있습니다.
- 아래는 모션 호출 번호를 이용한 예제입니다.

  ![](/assets/images/sw/rplus2/task/r+task2_90.gif)

- 모션 상태 : 모션이 실행되고 있으면 True, 모션이 실행되고 있지 않으면 False값을 반환합니다.
- 아래는 모션 상태를 이용하여 모션이 종료될 때까지 대기하는 예제입니다.

  ![](/assets/images/sw/rplus2/task/r+task2_91.gif)

- 관절 오프셋 : 모션이 실행될 때 -255~255값을 모든 관절에 더해줍니다. 관절 오프셋이 -50이고 모션 데이터의 위치 값이 300 -> 400 -> 500으로 설정된 경우라면, 250 -> 350 -> 450으로 변경되어 실행됩니다.
- 아래는 특정 관절에 오프셋 값을 적용하는 예제입니다.

  ![](/assets/images/sw/rplus2/task/r+task2_92.gif)

- 아래는 특정 관절에 모션 데이터 값의 영향을 받지 않도록 설정하는 예제입니다.

  ![](/assets/images/sw/rplus2/task/r+task2_93.gif)

- 관절 LED 자동 켜기 : 모션이 실행되는 동안 다이나믹셀의 LED를 켜거나 끌 수 있습니다. (True일 때 RGB LED 사용, False일 때 RGB LED 사용안함)
- 해당 기능은 OpenCM 9.04에서만 지원합니다.
- 아래는 모션 실행 시 “관절 LED 자동 켜기” 기능을 활용하는 예제입니다.

  ![](/assets/images/sw/rplus2/task/r+task2_94.gif)

- 아래는 제어기에 저장된 모션을 실행하는 예제입니다. 리모컨 버튼 눌림에 따라 해당하는 모션이 실행됩니다.

  ![](/assets/images/sw/rplus2/task/r+task2_95.gif)

#### 내장 센서1 [최종 소리감지 횟수 / 실시간 소리감지 횟수]

- 제어기에 내장된 마이크를 사용하여 일정 수준 이상의 큰 소리가 날 경우 1회씩 카운트하는 기능입니다. 대표적인 예로 박수 소리를 카운트하여 로봇을 동작시킬 때 많이 사용합니다.
- 제어기마다 지원하는 센서의 종류가 다릅니다. 각 제어기의 매뉴얼을 참고하세요.

  - [CM-100A], [CM-150], [CM-200], [CM-5], [CM-510], [CM-530], [CM-700], [OpenCM]

- 최종 소리감지 횟수 : 감지된 소리 횟수를 누적하여 카운트합니다. 초기화가 필요한 경우 0값을 직접 입력해야 합니다.
- 아래는 최종 소리감지 횟수를 이용한 예제입니다.

  ![](/assets/images/sw/rplus2/task/r+task2_97.gif)

- 실시간 소리감지 횟수 : 실시간으로 감지된 소리 횟수를 카운트합니다. 0.8초간 소리가 입력되지 않으면 0으로 초기화 됩니다.
- 아래는 실시간 소리감지 횟수를 이용한 예제입니다.

  ![](/assets/images/sw/rplus2/task/r+task2_98.gif)

#### 내장 센서2 [왼쪽 적외선 센서 / 중앙 적외선 센서 / 오른쪽 적외선 센서]

- 제어기에 내장된 적외선 센서 값을 읽어오기 위해 사용합니다.
- 적외선 센서의 값 범위는 0~1023입니다. 물체와의 거리가 가까울수록 큰 값을 가지며, 거리가 멀수록 작은 값을 가집니다.
- 제어기마다 내장된 센서의 종류가 다릅니다. 각 제어기의 매뉴얼을 참고하세요.

  - [CM-100A], [CM-150], [CM-200], [CM-5], [CM-510], [CM-530], [CM-700], [OpenCM]

- 왼쪽 적외선 센서 : 제어기 왼쪽 하단에 위치한 적외선 센서의 값을 읽어올 때 사용합니다.
- 중앙 적외선 센서 : 제어기 전면 중앙에 위치한 적외선 센서의 값을 읽어올 때 사용합니다.
- 오른쪽 적외선 센서 : 제어기 오른쪽 하단에 위치한 적외선 센서의 값을 읽어올 때 사용합니다.
- 아래는 제어기의 적외선 센서 값을 사용하는 예제입니다.

  ![](/assets/images/sw/rplus2/task/r+task2_99.gif)

#### 내장 센서3 [시작 버튼 눌림 횟수 / 제어기 버튼]

- 제어기에 내장된 버튼의 값을 읽어올 때 사용합니다.
- 제어기마다 지원하는 센서의 종류가 다릅니다. 각 제어기의 매뉴얼을 참고하세요.

  - [CM-100A], [CM-150], [CM-200], [CM-5], [CM-510], [CM-530], [CM-700], [OpenCM]

- 시작 버튼 눌림 횟수 : 최초 제어기를 켤 때 연속적으로 시작버튼을 누른 횟수를 읽어올 때 사용합니다. 시작 버튼 눌림 횟수의 값의 범위는 0~255입니다.
- 아래는 시작 버튼 눌림 횟수를 사용하는 예제입니다.

  ![](/assets/images/sw/rplus2/task/r+task2_100.gif)

- 제어기 버튼 : 제어기의 버튼 상태를 읽어올 때 사용합니다. 제어기에 따라 사용할 수 있는 버튼이 달라집니다.
- 아래는 CM-5, CM-510, CM-530의 버튼을 사용하는 예제입니다.

  ![](/assets/images/sw/rplus2/task/controller_device9.jpg)

- 아래는 OpenCM9.04의 버튼을 사용하는 예제입니다.

  ![](/assets/images/sw/rplus2/task/r+task2_85.jpg)

#### 버저 [버저 종류 / 버저 울림 시간]

- 제어기에 내장된 버저를 통해 음계나 멜로디를 연주할 때 사용합니다.
- 버저 울림 시간을 먼저 설정한 후 버저 종류를 설정해야 설정에 맞게 소리가 납니다.
- 아래는 버저 종류를 설정하는 그림입니다.

  ![](/assets/images/sw/rplus2/task/r+task2_96.jpg)

- 아래는 제어기의 음계를 연주하는 예제입니다. 음계 연주 시 “버저 울림 시간”을 0~5초로 설정할 수 있습니다

  ![](/assets/images/sw/rplus2/task/r+task2_119.jpg)

- 아래는 제어기의 멜로디를 연주하는 예제입니다. 멜로디 연주 시 “버저 울림 시간”을 멜로디 연주 시간(특수 멜로디 연주)으로 설정해야 합니다

  ![](/assets/images/sw/rplus2/task/r+task2_129.jpg)

#### 리모컨 [받은 무선 데이터, 보낼 무선 데이터 / 무선 ID / RC-100채널]

- 제어기에 연결된 무선 통신 모듈(블루투스, 적외선, 지그비)을 통해 외부와 데이터를 주고 받는 파라미터입니다.
- 일반적으로 RC-100, 스마트폰 가상 리모컨으로 로봇을 조종할 때 사용되며, 그 외에 사용자가 만든 임의의 SW와 통신을 위해 사용될 수 있습니다.
- 주고 받는 데이터의 값 범위는 0~65535로 제한됩니다. (2bytes)
- 받은 무선 데이터 : 제어기가 외부로부터 데이터를 전달받을 때 사용합니다.

  ![](/assets/images/sw/rplus2/task/r+task2_130.jpg)

- 보낼 무선 데이터 : 제어기가 외부로 데이터를 내보낼 때 사용합니다.

  ![](/assets/images/sw/rplus2/task/r+task2_110.jpg)

- 새 무선 데이터 도착 : 제어기에 외부로부터 데이터가 전달되었을 때 값이 True가 됩니다.

  ![](/assets/images/sw/rplus2/task/r+task2_111.jpg)

- 내 로봇 무선 ID : 지그비를 사용할 때 지그비 ID를 확인합니다.

  ![](/assets/images/sw/rplus2/task/r+task2_112.jpg)

- 상대로봇 무선 ID : 지그비를 사용할 때 패어링할 지그비의 ID를 설정합니다.

  ![](/assets/images/sw/rplus2/task/r+task2_113.jpg)

- RC-100 채널 : 적외선 수신기를 사용할 때 채널 값을 설정합니다. (값이 255일경우 블루투스/지그비 모드로 동작합니다.)

  ![](/assets/images/sw/rplus2/task/r+task2_114.jpg)

- 아래는 제어기에서 받은 무선 데이터를 처리하는 예제입니다.

  ![](/assets/images/sw/rplus2/task/r+task2_115.jpg)

- 아래는 제어기가 외부로 데이터를 내보내는 예제입니다.

  ![](/assets/images/sw/rplus2/task/r+task2_109.jpg)


#### 타이머 [타이머 / 정밀 타이머 / 자동꺼짐 타이머]

- 타이머와 정밀 타이머는 제어기에 자동으로 카운트 다운 되는 타이머의 값을 설정할 때 사용합니다.
- 타이머 : 제어기에 자동으로 카운트 다운 되는 타이머의 값을 사용할 때 설정합니다. 타이머의 값 범위는 0~255이며, 단위는 0.128초 입니다.
- 아래는 타이머를 사용하여 약 1초(1.024초)만큼 대기하는 예제입니다.

  ![](/assets/images/sw/rplus2/task/r+task2_131.jpg)

- 정밀 타이머 : 타이머와 같은 기능을 하며 시간을 더 정밀하게 카운트 합니다. 정밀 타이머의 값 범위는 0 ~ 65,535이며, 단위는 0.001초 입니다.
- 아래는 정밀 타이머를 사용하여 정확히 1초(1.000초)만큼 대기하는 예제입니다.

  ![](/assets/images/sw/rplus2/task/controller_device1.jpg)

- 자동꺼짐 타이머 : 제어기의 절전 모드 기능을 사용할 때 설정합니다.
  - '자동꺼짐 타이머'의 실제 값은 0 ~ 255 사이의 숫자를 사용합니다.
  - 숫자 1 은 시간 값 1분을 의미합니다.
  - 제어기 작동 시 '자동꺼짐 타이머'의 기본 설정 값은 5분 입니다.
  - 대부분의 제어기에서 자동꺼짐 타이머 값을 0분으로 설정하면 자동꺼짐 기능이 동작하지 않습니다 (OpenCM7.0은 60분으로 설정됨).
  - 자동꺼짐 타이머의 남은 시간은 항상 '분' 단위로 읽혀집니다. 즉, 50초가 남아 있어도 1분으로 읽혀집니다.
  - 자동꺼짐 타이머의 설정은 아래 표와 같으며, 타이머를 사용하지 않는 경우 배터리가 방전될 위험이 있으니 주의하시기 바랍니다.

|설정값|OpenCM7.0의 타이머 시간|기타 제어기의 타이머 시간|
|:---:|:---:|:---:|
|0|60분|타이머 사용안함(배터리 방전에 주의)|
|1 ∼ 60|1 ∼ 60분|1 ∼ 60분|
|61 ∼ 254|60분|61 ∼254분|
|255|타이머 사용안함(배터리 방전에 주의)|255분|

**주의**: OpenCM7.0은 설정값이 다르므로 주의하시기 바랍니다.
{: .notice--warning}

- 아래는 자동꺼짐 타이머를 이용하여 제어기의 절전 모드를 설정하는 예제입니다. 5분내에 새 무선 데이터가 도착하면 자동꺼짐 타이머 값을 다시 초기화합니다.

  ![](/assets/images/sw/rplus2/task/controller_device2.jpg)


#### 기타 [임의의 숫자 / 내장 LED / 화면출력 / 화면출력 후 줄바꿈]

- 임의의 숫자 : 0~최대값 범위에서 임의의 숫자(Random Value)를 생성합니다. 값을 설정하여 최대값의 범위를 조절할 수 있습니다. 최대값의 범위는 0~255입니다.
- 아래는 임의의 숫자를 사용하여 임의의 모션을 실행하는 예제입니다. 0~15까지의 임의의 숫자를 생성하여 해당 모션을 실행합니다.

  ![](/assets/images/sw/rplus2/task/controller_device.jpg)

- 내장 LED : 제어기의 내장 LED(Aux LED)를 제어하기 위해 사용합니다.

- 아래는 내장 LED를 사용하는 예제입니다. 0.512초 간격으로 내장 LED를 켜고 끕니다.

  ![](/assets/images/sw/rplus2/task/controller_device3.jpg)

- 화면 출력 : 태스크 코드에서 특정 값을 눈으로 확인하고 싶을 때 사용합니다.
- 화면 출력 후 줄바꿈 : 태스크 코드에서 특정 값을 눈으로 확인하고 싶을 때 사용합니다. 출력 후 자동으로 다음 줄로 변경됩니다.
- 아래는 “화면 출력”과 “화면 출력 후 줄바꿈”을 사용하여 센서 값을 출력하는 예제입니다.

  ![](/assets/images/sw/rplus2/task/controller_device4.jpg)

  ![](/assets/images/sw/rplus2/task/controller_device5.jpg)










## [다운로드 하기](#다운로드-하기)

## [프로그램 출력보기](#프로그램-출력보기)

## [여러 줄 선택](#여러-줄-선택)

## [줄 삽입/지우기](#줄-삽입지우기)

## [줄 활성/비활성](#줄-활성비활성)

## [복사/잘라내기/붙여넣기](#복사잘라내기붙여넣기)

## [실행취소/다시실행](#실행취소다시실행)


# [명령어 프로그래밍](#명령어-프로그래밍)



## [새로운 기능 소개](#기능-소개)

### [Delay 명령어](#delay-명령어)

### [DYNAMIXEL 동작모드](#dynamixel-동작모드)

### [포트 닉네임](#포트-닉네임)



### [모션 이름 선택](#모션-이름-선택)
