---
---

<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.4.1 by Michael Rose
  Copyright 2017 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE.txt
-->
<!-- <html lang="{{ site.locale | slice: 0,2 | default: "en" }}" class="no-js"> -->
<html lang="{{ page.lang | default: "en" }}" class="no-js">
  <head>
    {% include head.html %}
    {% include head/custom.html %}
    <script type="text/javascript" src="/assets/js/plugins/elasticlunr.js"></script>
    <!-- <script type="text/javascript" src="/assets/js/plugins/lunr.js"></script> -->
    <script>
      var toggle_google = 0;
      var toggle_search_tool = 0;
      var mobile_width = 960;

      function extendgoogletool() {
        if (toggle_google == 0) {
          google_tools.classList.add("extend_googletools");
          switch_ko_en.classList.add("show_switch_ko_en");
          toggle_google = 1;
        }
        else {
          google_tools.classList.remove("extend_googletools");
          switch_ko_en.classList.remove("show_switch_ko_en");
          toggle_google = 0;
        }
      }

      function extendsearchtool() {
        if (toggle_search_tool == 0) {
          $('.searchbox').css('display', 'block');
          $('#archive').css('margin-top', '40px');
          toggle_search_tool = 1;
        }
        else {
          $('.searchbox').css('display', 'none');
          $('#archive').css('margin-top', '0px');
          toggle_search_tool = 0;
        }
      }
    </script>
    <script>
    $(document).ready(function() {
    	$('.popup').magnificPopup({
    		type: 'ajax',
    		alignTop: true,
    		overflowY: 'scroll' // as we know that popup content is tall we set scroll overflow by default to avoid jump
    	});
      $('.popup2').magnificPopup({
    		type: 'inline',
    		alignTop: true,
    		overflowY: 'scroll' // as we know that popup content is tall we set scroll overflow by default to avoid jump
    	});
      
      // Implmentation for Local search engine with JSON file
      // var elasticlunr = require('elasticlunr');
      
      var index = elasticlunr(function () {
        this.addField('product');
        this.addField('header1');
        this.addField('header2');
        this.addField('header3');
        this.addField('content');
        this.setRef('id');
      });
      
      $.getJSON('/search_index_test.json', function(idx) {
        $.each(idx, function(v){
          var doc = {
            "id": v,
            "product": idx[v].product,
            "header1": idx[v].header1,
            "header2": idx[v].header2,
            "header3": idx[v].header3,
            "content": idx[v].content
          };
          // console.log(doc.id);
          // console.log(doc.product);
          // console.log(doc.header1);
          // console.log(doc.header2);
          // console.log(doc.header3);
          // console.log(doc.content);
          index.addDoc(doc);
        })
      });
      console.log(index);
      
      var results = index.search('actuator');
      var i = 0;
      for (i = 0; i < results.length; i++) {
        var result_doc = index.documentStore.getDoc(results[i].ref);
        console.log(result_doc.content);
      }
      if (results.length === 0) {
        console.log("No Results Found.");
      }
      
      //lunr.js code
      // var index = lunr(function () {
      //   this.ref('id')
      //   this.field('product')
      //   this.field('header1')
      //   this.field('header2')
      //   this.field('header3')
      //   this.field('content')
      // });
      // 
      // $.getJSON('/search_index_test.json', function(idx) {
      //   $.each(idx, function(v){
      //     var doc = {
      //       "id": v,
      //       "product": idx[v].product,
      //       "header1": idx[v].header1,
      //       "header2": idx[v].header2,
      //       "header3": idx[v].header3,
      //       "content": idx[v].content
      //     };
      //     // console.log(doc.id);
      //     // console.log(doc.product);
      //     // console.log(doc.header1);
      //     // console.log(doc.header2);
      //     // console.log(doc.header3);
      //     // console.log(doc.content);
      //     index.add(doc);
      //   })
      // });
      // 
      // var results = index.search("read");
      // var i = 0;
      // for (i = 0; i < results.length; i++) {
      //   var result_doc = index.documentStore.get(results[i].ref);
      //   console.log(result_doc.content);
      // }
      // if (results.length === 0) {
      //   console.log("No Results Found.");
      // }
      
    });
    </script>
    <script>
      $(function () {
        var currentHash = $(location).attr('hash');
        var filename = $(location).attr('href').split('/').reverse()[1];
        $(document).scroll(function () {
          $('.header-link').each(function () {
            var top = window.pageYOffset;
            var distance = top - $(this).offset().top;
            var rawHash = $(this).attr('href');
            var contentId = rawHash.replace('#', '');
            var tocId = rawHash.replace('#', filename+'_toc_');
            var searchContentId = $('#'+contentId);
            var searchTocId = $('#'+tocId);

            if (distance < 50 && distance > -50 && currentHash != tocId) {
              // window.history.pushState(window.location.href, "title", currentHash);   //Update browser URL history with current anchor
              if ((searchContentId.hasClass('class-h1') || searchContentId.hasClass('class-h2') || searchContentId.hasClass('class-h3')) && $('.nav__items').has('#'+tocId).length) {
                // console.log(contentId);
                // console.log(tocId);
                searchTocId.prop("checked", true);  //Open folded Toc menu
                $('.current_contents').removeClass("current_contents");
                
                //Check if Buttoned ToC with children
                // console.log(searchTocId);
                if( searchTocId.prop("tagName") == "INPUT" ) {
                  console.log("input detected");
                  if( searchTocId.prop("name") == "sublevel" ) {
                    searchTocId.closest("li.has-grandchildren").find("label > button").addClass("current_contents");
                  }
                }
                else {
                  searchTocId.addClass("current_contents");
                }
                
                // Open folded Toc menu
                searchTocId.closest("li.has-grandchildren").find("input").first().prop("checked", true);
                searchTocId.closest("li.has-children").find("input").first().prop("checked", true);
                
                currentHash = tocId;
              }
            }
          });
        });
      });
    </script>
    <script>
      window.onscroll = function () {
        var offset = 64 - $(window).scrollTop();
        if(offset < 0) { offset = 0; }
        $(".sidebar__left").css("top", offset);       //sticky sidebar
        $(".extend_sidebar").css("top", offset);
        $(".local_navigation").css("top", offset);    //sticky local navigation
        $(".searchbox").css("top", offset);           //sticky searchbox
        // console.log(offset);
      };
    </script>
    <script>
      var toggle = 0;

      function extendnav() {
        if (toggle == 0) {
          sidebar__left.classList.add("extend_sidebar");
          toggle = 1;
        }
        else {
          sidebar__left.classList.remove("extend_sidebar");
          toggle = 0;
        }
      }
    </script>
    <script>
      function copyurl(item)
      {
        // location.href = item.href;
        var copiedurl = decodeURI(item.href);
        var tempurl = $('<input>').val(copiedurl).appendTo('body').select();
        document.execCommand('copy');
        // console.log(copiedurl);
        // document.getElementById(id).href;
        // document.execCommand('copy');
      }
    </script>
    <script>
      function movetopage(targeturl)
      {
        location.href=targeturl;
      }
    </script>
  </head>

  <body class="layout--{{ page.layout | default: layout.layout }}{% if page.classes or layout.classes %}{{ page.classes | default: layout.classes | join: ' ' | prepend: ' ' }}{% endif %}">

    {% include browser-upgrade.html %}
    {% include masthead.html %}

    {{ content }}

    {% if page.layout == 'archive' %}
    <div class="page__footer archive_footer">
    {% else %}
    <div class="page__footer splash_footer">
    {% endif %}
      <footer>
        {% include footer/custom.html %}
        {% include footer.html %}
      </footer>
    </div>

    {% include scripts.html %}

  </body>
</html>
